<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
      integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700"
      rel="stylesheet"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="nd-pageheader">
      <div class="container">
        <h1>Project List</h1>
        <h5><a href="https://baulab.info">Back to main page</a></h5>
      </div>
    </div>
    <div class="container">
      {%- for project in projects -%}
      <input class="collapse" type="checkbox" />
      <p>
        {%- if project.image_url -%}
        <img src="{{ project.image_url }}" class="projpic" />
        {%- endif -%}
        <a href="{{ project.project_url }}">{{ project.name }}</a>
        {{ project.description | safe }}
        <span class="more"></span>
        <span class="extra"> {{ project.extra | safe }} </span>
        {%- if project.paper_url -%}
        <a href="{{ project.paper_url }}">
          {%- for author in project.authors -%} {%- if author == "D Bau" -%}
          <span class="me">{{ author }}</span>
          {%- else -%} {{ author }} {%- endif -%} {%- if not loop.last -%}, {%
          endif -%} {%- endfor -%}. {%- if project.paper_title %}
          <em>{{ project.paper_title }}</em>. {% endif %} {%- if
          project.conference_name %}
          <nobr>{{ project.conference_name }}.</nobr>{% endif -%}
        </a>
        {%- endif -%}
      </p>
      {%- endfor -%}
    </div>
    <script>
      $(document).on("click", ".more, input.collapse + p", function (ev) {
        // Do not collapse a card if the click is for a hyperlink or selection.
        if (
          $(ev.target).closest("a").length ||
          getSelection().type == "Range" ||
          ev.shiftKey ||
          ev.ctrlKey
        ) {
          return;
        }
        // Use the hidden checkbox technique to preserve collapse-state on "back"
        var collapse = $(this).closest("p").prev("input.collapse");
        collapse.prop("checked", !collapse.prop("checked"));
        ev.stopPropagation();
      });
    </script>
  </body>
</html>
